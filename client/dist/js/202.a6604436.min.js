"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[202],{49366:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ie});var n=a(63696),i=a(49348),l=a(2620),r=a(68430),s=a(98261),o=a(75530),c=a(48783),d=a(80876),p=a(24417),m=a(52302),h=a(81997),u=a(23713),E=a(69935),x=a(38914),y=a(57901),v=a(76072),b=a(97299),g=a(17327),C=a(64361),f=a(71603),N=a(65753),A=a(24974),k=a(21639),_=a(3939),T=a(77635),I=a(40360);const S=(0,a(32791).w)({name:"PenIcon",height:512,width:512,svgPath:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z",yOffset:0,xOffset:0});var W=a(80254),$=a(88112),w=a(85278),D=a(94279),O=a(16172),F=a(34629);const H="pf-v5-c-clipboard-copy__text",R="pf-m-expanded",P="pf-m-inline",j="pf-m-block",B="pf-m-code";var L=a(62634),Z=a(85310),z=a(23857),K=a(40066),V=a(63840);const G=e=>{var{onClick:t,exitDelay:a=0,entryDelay:i=300,maxWidth:l="100px",position:r="top","aria-label":s="Copyable input",id:o,textId:c,children:d,variant:p="control",onTooltipHidden:m=(()=>{}),className:h}=e,u=(0,F.__rest)(e,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant","onTooltipHidden","className"]);const E=n.createRef();return n.createElement(Z.m,{trigger:"mouseenter focus click",triggerRef:E,exitDelay:a,entryDelay:i,maxWidth:l,position:r,"aria-live":"polite",aria:"none",content:n.createElement("div",null,d),onTooltipHidden:m},n.createElement(T.$n,Object.assign({type:"button",variant:p,onClick:t,"aria-label":s,className:h,id:o,"aria-labelledby":`${o} ${c}`},u,{ref:E}),n.createElement(V.Ay,null)))};G.displayName="ClipboardCopyButton";var J=a(21579);const U=e=>{var{onClick:t,id:a,textId:i,contentId:l,isExpanded:r=!1}=e,s=(0,F.__rest)(e,["onClick","id","textId","contentId","isExpanded"]);return n.createElement(T.$n,Object.assign({type:"button",variant:"control",onClick:t,id:a,"aria-labelledby":`${a} ${i}`,"aria-controls":l,"aria-expanded":r},s),n.createElement("div",{className:(0,L.A)("pf-v5-c-clipboard-copy__toggle-icon")},n.createElement(J.Ay,{"aria-hidden":"true"})))};U.displayName="ClipboardCopyToggle";class X extends n.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:a,onChange:i,isReadOnly:l,isCode:r}=e,s=(0,F.__rest)(e,["className","children","onChange","isReadOnly","isCode"]);return n.createElement("div",Object.assign({suppressContentEditableWarning:!0,className:(0,L.A)("pf-v5-c-clipboard-copy__expandable-content",t),onInput:e=>i(e,e.target.innerText),contentEditable:!l},s),r?n.createElement("pre",{dir:"ltr"},a):a)}}X.displayName="ClipboardCopyExpanded",X.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};var M,Q=a(1850);!function(e){e.inline="inline",e.expansion="expansion",e.inlineCompact="inline-compact"}(M||(M={}));class Y extends n.Component{constructor(e){super(e),this.timer=null,this.componentDidUpdate=(e,t)=>{if(e.children!==this.props.children){const e=this.props.children;this.setState({text:e,textWhenExpanded:e})}},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=e=>{this.setState((e=>({expanded:!e.expanded})))},this.updateText=(e,t)=>{this.setState({text:t}),this.props.onChange(e,t)},this.updateTextWhenExpanded=(e,t)=>{this.setState({textWhenExpanded:t}),this.props.onChange(e,t)},this.render=()=>{const e=this.props,{isExpanded:t,onChange:a,isReadOnly:i,isCode:l,isBlock:r,exitDelay:s,maxWidth:o,entryDelay:c,onCopy:d,hoverTip:p,clickTip:m,textAriaLabel:h,toggleAriaLabel:u,variant:E,position:x,className:y,additionalActions:v,ouiaId:b,ouiaSafe:g}=e,C=(0,F.__rest)(e,["isExpanded","onChange","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe"]),f="text-input-";return n.createElement("div",Object.assign({className:(0,L.A)("pf-v5-c-clipboard-copy","inline-compact"===E&&P,r&&j,this.state.expanded&&R,y)},C,(0,Q.Bs)(Y.displayName,b,g)),"inline-compact"===E&&n.createElement(K.N,{prefix:""},(e=>n.createElement(n.Fragment,null,!l&&n.createElement("span",{className:(0,L.A)(H),id:`${f}${e}`},this.state.text),l&&n.createElement("code",{className:(0,L.A)(H,B),id:`${f}${e}`},this.state.text),n.createElement("span",{className:(0,L.A)("pf-v5-c-clipboard-copy__actions")},n.createElement("span",{className:(0,L.A)("pf-v5-c-clipboard-copy__actions-item")},n.createElement(G,{variant:"plain",exitDelay:s,entryDelay:c,maxWidth:o,position:x,id:`copy-button-${e}`,textId:`text-input-${e}`,"aria-label":p,onClick:e=>{d(e,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?m:p)),v&&v)))),"inline-compact"!==E&&n.createElement(K.N,{prefix:""},(e=>n.createElement(n.Fragment,null,n.createElement("div",{className:(0,L.A)("pf-v5-c-clipboard-copy__group")},"expansion"===E&&n.createElement(U,{isExpanded:this.state.expanded,onClick:e=>{this.expandContent(e),this.state.expanded?this.setState({text:this.state.textWhenExpanded}):this.setState({textWhenExpanded:this.state.text})},id:`toggle-${e}`,textId:`${f}${e}`,contentId:`content-${e}`,"aria-label":u}),n.createElement(z.ks,Object.assign({readOnlyVariant:i||this.state.expanded?"default":void 0,onChange:this.updateText,value:this.state.expanded?this.state.textWhenExpanded:this.state.text,id:`text-input-${e}`,"aria-label":h},l&&{dir:"ltr"})),n.createElement(G,{exitDelay:s,entryDelay:c,maxWidth:o,position:x,id:`copy-button-${e}`,textId:`text-input-${e}`,"aria-label":p,onClick:e=>{d(e,this.state.expanded?this.state.textWhenExpanded:this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?m:p)),this.state.expanded&&n.createElement(X,{isReadOnly:i,isCode:l,id:`content-${e}`,onChange:this.updateTextWhenExpanded},this.state.text)))))};const t=Array.isArray(this.props.children)?this.props.children.join(""):this.props.children;this.state={text:t,expanded:this.props.isExpanded,copied:!1,textWhenExpanded:t}}}Y.displayName="ClipboardCopy",Y.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:Z.Z.top,maxWidth:"150px",exitDelay:1500,entryDelay:300,onCopy:(e,t)=>{try{navigator.clipboard.writeText(t.toString())}catch(e){console.warn("Clipboard API not found, this copy function will not work. This is likely because you're using an","unsupported browser or you're not using HTTPS. \n\nIf you're a developer building an application which needs","to support copying to the clipboard without the clipboard API, you'll have to create your own copy","function and pass it to the ClipboardCopy component as the onCopy prop. For more information see","https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard"),console.error(e)}},onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null,ouiaSafe:!0};const q=({value:e})=>n.createElement(D.B8,{isPlain:!0},e.map(((e,t)=>n.createElement(O.c,{key:t},n.createElement(Y,{isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied"},e)))));var ee=a(67837),te=a(50705);const ae=({advisory:e})=>{const{pushNotification:t}=n.useContext(te.K),[a,i]=n.useState(!1),{mutate:l}=(0,E.uJ)((()=>{}),(e=>{t({title:"Error while updating labels",variant:"danger"})}));return n.createElement(n.Fragment,null,n.createElement(x.B,{hasGutter:!0},n.createElement(y.a,null,n.createElement(v.x,{hasGutter:!0},n.createElement(b.E,{md:4},n.createElement(g.Z,{isFullHeight:!0},n.createElement(C.Z,null,"General view"),n.createElement(f.b,null,n.createElement(W.V,{advisory:e})))),n.createElement(b.E,{md:4},n.createElement(g.Z,{isFullHeight:!0},n.createElement(C.Z,null,"Issuer"),n.createElement(f.b,null,n.createElement($.N,{value:e})))),n.createElement(b.E,{md:4},n.createElement(g.Z,{isFullHeight:!0},n.createElement(C.Z,null,"System"),n.createElement(f.b,null,n.createElement(N.B,null,n.createElement(A.W,null,n.createElement(k.X,null,"Hashes"),n.createElement(_.d,null,e.hashes&&n.createElement(q,{value:e.hashes}))),n.createElement(A.W,null,n.createElement(k.X,null,"Labels ","",n.createElement(T.$n,{variant:T.Ak.link,size:"sm",icon:n.createElement(S,null),iconPosition:"end",onClick:()=>i(!0)},"Edit")),n.createElement(_.d,null,n.createElement("div",{className:"pf-v5-c-form"},n.createElement(I.g,null,n.createElement("div",{className:"pf-v5-c-form-control",style:{padding:10}},e.labels&&n.createElement(ee.g,{defaultIsOpen:!0,value:e.labels}))))))))))))),a&&n.createElement(w.x,{resourceName:e.identifier,value:e.labels??{},onSave:t=>{(t=>{l({...e,labels:t})})(t),i(!1)},onClose:()=>i(!1)}))};var ne=a(32343);const ie=()=>{const e=(0,d.Lu)(d.vO.ADVISORY_ID),{advisory:t,isFetching:a,fetchError:x}=(0,E.vy)(e),{downloadAdvisory:y}=(0,u.m)();return n.createElement(n.Fragment,null,n.createElement(r.d8,{variant:"light"},n.createElement(l.A,{breadcrumbs:n.createElement(s.Q,null,n.createElement(o.J,{key:"advisories"},n.createElement(i.N_,{to:"/advisories"},"Advisories")),n.createElement(o.J,{isActive:!0},"Advisory details")),actionButtons:[{children:n.createElement(n.Fragment,null,n.createElement(c.Ay,null)," Download"),variant:"secondary",onClick:()=>{e&&y(e,`${t?.identifier}.json`)}}],pageHeading:{title:t?.identifier??"",label:t?.average_severity?{children:n.createElement(m.h,{value:t.average_severity}),isCompact:!0}:void 0},tabs:[{eventKey:"overview",title:"Overview",children:n.createElement("div",{className:"pf-v5-u-m-md"},n.createElement(p.a,{isFetching:a,fetchError:x},t&&n.createElement(ae,{advisory:t})))},{eventKey:"vulnerabilities",title:"Vulnerabilities",children:n.createElement("div",{className:"pf-v5-u-m-md"},n.createElement(p.a,{isFetching:a,fetchError:x},n.createElement(ne.j,{enableToolbar:!0,vulnerabilities:t?.vulnerabilities||[]})))},{eventKey:"source",title:"Source",children:n.createElement("div",{className:"pf-v5-u-m-md"},e&&n.createElement(h.Z,{advisoryId:e,height:"645px"}))}]})))}}}]);
//# sourceMappingURL=202.a6604436.min.js.map